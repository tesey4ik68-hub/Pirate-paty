  <script>
    function generate() {
      try {
        console.log("–ù–∞—á–∞–ª–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–∏–ª–µ—Ç–∞");
        
        const name = document.getElementById("name").value.trim();
        const table = document.getElementById("table").value;
        const seat = document.getElementById("seat").value;

        console.log("–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:", {name, table, seat});

        if (!name) {
          alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é –≥–æ—Å—Ç—è!");
          return;
        }

        // üîó –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ ticket.html
        const ticketUrl = `ticket.html?name=${encodeURIComponent(name)}&table=${table}&seat=${seat}`;
        console.log("–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π URL:", ticketUrl);

        document.getElementById("result-name").textContent = name;
        document.getElementById("result-table").textContent = table;
        document.getElementById("result-seat").textContent = seat;
        document.getElementById("ticket-link").textContent = ticketUrl;

        // –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π QR-–∫–æ–¥
        const qrcodeDiv = document.getElementById("qrcode");
        qrcodeDiv.innerHTML = ""; // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ —á–∏—Å—Ç–æ

        // –ü—Ä–æ–≤–µ—Ä–∏–º, –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ QRCode
        if (typeof QRCode === 'undefined') {
          console.error("–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ QRCode –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞");
          alert("–û—à–∏–±–∫–∞: –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ QRCode –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞");
          return;
        }

        console.log("–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º QR-–∫–æ–¥");

        // –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π QR-–∫–æ–¥
        new QRCode(qrcodeDiv, {
          text: ticketUrl,
          width: 200,
          height: 200,
          correctLevel: QRCode.CorrectLevel.H // –õ—É—á—à–µ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
        });

        console.log("QR-–∫–æ–¥ —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω");

        // –ü–æ–∫–∞–∑–∞—Ç—å –±–ª–æ–∫ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
        document.getElementById("result").style.display = "block";
        console.log("–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω");
      } catch (error) {
        console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–∏–ª–µ—Ç–∞:", error);
        alert("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–∏–ª–µ—Ç–∞: " + error.message);
      }
    }
  </script>
</body>
</html>