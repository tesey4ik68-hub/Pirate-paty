# Пиратская вечеринка - Система управления пропусками

Система для генерации и управления персональными пиратскими пропусками для вечеринки.

## Структура проекта

```
Pirate-paty-main/
├── index.html          # Главная страница генератора пропусков
├── ticket.html         # Шаблон обычного пропуска (мужской)
├── ticket_female.html  # Шаблон обычного пропуска (женский)
├── ticket_royal_male.html   # Шаблон королевского пропуска (мужской)
├── ticket_royal_female.html # Шаблон королевского пропуска (женский)
├── ticket_prince.html       # Шаблон пропуска принца
├── ticket_princess.html     # Шаблон пропуска принцессы
├── server/
│   ├── config.php      # Конфигурация базы данных
│   ├── init_db.php     # Инициализация таблицы в БД
│   └── api.php         # API для работы с пропусками
├── .htaccess           # Файл конфигурации Apache
├── start-server.bat    # Скрипт для запуска встроенного PHP-сервера
└── README.md           # Этот файл
```

## Настройка базы данных

1. Откройте файл `server/config.php` и укажите данные для подключения к вашей базе данных на reg.ru:
   ```php
   $host = 'server282.hosting.reg.ru';
   $dbname = 'ваша_база_данных';
   $username = 'ваш_пользователь';
   $password = 'ваш_пароль';
   ```

2. Загрузите файлы на ваш хостинг reg.ru

3. Откройте в браузере файл `server/init_db.php` для создания таблицы в базе данных

## Запуск локального сервера

Для корректной работы с базой данных необходим сервер с поддержкой PHP. У вас есть несколько вариантов:

### Вариант 1: Встроенный PHP-сервер (рекомендуется для разработки)
1. Убедитесь, что PHP установлен в вашей системе
2. Запустите файл `start-server.bat` или выполните команду:
   ```
   php -S localhost:8000
   ```
3. Откройте в браузере: http://localhost:8000

### Вариант 2: XAMPP или другой локальный сервер
1. Установите XAMPP или другой веб-сервер с поддержкой PHP
2. Скопируйте файлы проекта в папку htdocs (или аналогичную)
3. Запустите сервер и откройте проект в браузере

### Вариант 3: Загрузка на хостинг
1. Загрузите все файлы на хостинг с поддержкой PHP и MySQL
2. Настройте подключение к базе данных в `server/config.php`

## Использование системы

1. Откройте `index.html` в браузере
2. Введите данные гостя (имя, пол, номер стола, место)
3. Нажмите "Сгенерировать билет"
4. Используйте кнопки "Поделиться" или "Копировать" для отправки пропуска гостю

## Функциональность

- Генерация персональных пропусков для гостей
- Хранение данных в базе данных (вместо localStorage)
- Проверка на дубликаты пропусков
- Возможность редактирования и удаления пропусков
- Группировка пропусков по столам
- Поддержка разных типов пропусков:
  - Обычные пропуски (мужские/женские)
  - Королевские пропуски
  - Пропуски принца/принцессы

## API

Система использует RESTful API для работы с пропусками:

- `GET /server/api.php` - получить все пропуски
- `GET /server/api.php?name=ИМЯ` - получить конкретный пропуск
- `POST /server/api.php` - создать новый пропуск
- `PUT /server/api.php` - обновить существующий пропуск
- `DELETE /server/api.php` - удалить пропуск

## Безопасность

- Все данные хранятся в защищенной базе данных
- Дубликаты пропусков автоматически проверяются
- Поддерживается уникальность записей по имени гостя